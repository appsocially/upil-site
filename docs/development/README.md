# Vue Application development

Generally, a developer working in an application framework such as Vue or React will setup an instance of `UPILCore`, and then pass that instance to a component which will translate `nodes[]` into visual elements, and handle user input.
<br/><br/>

There are two different modes that a `UPILCore` can use to interpret a UPIL script. A chatbot-mode and a form-mode. 
You can use the same script for both, utilizing the chatbot-mode to gather data initially, and then a form-mode to allow for displaying gathered data and editing saved values. The mode can be set as an option when
starting a `UPILCore` instance.

## Chatbot mode
This is the default mode for a `UPILCore` instance. You can use the `ChatThemePlugin` Vue component to easily visualize a `UPILCore` instance as a chatbot:

```javascript
import { ChatTheme } from '@appsocially/vue-upil-plugin'
const { ChatThemePlugin } = ChatTheme
```

## Widgets

Widgets are used to visualize `nodes[]` objects generated by a `UPILCore` instance. 


## `UPILCore` 

In order to consume UPIL scripts in your Javascript application, an instance of `UPILCore` is used. `UPILCore` provides the following ways to interact with your scripts:
<br/><br/>

* An array of `nodes[]` that can be represented as text or user input in your application.
* A `consume` method used to send user input back to the UPIL engine.
* Lifecycle and event listeners to run custom code in various situations such as:
  * Scenario start
  * Scenario end
  * User input
* Alternative modes:
  * The default bot-mode that waits for user input before exposing subsequent nodes in the `nodes[]` array.
  * A form-mode which continues as far as possible in the script given that the variables required for interpretation already exist.
<br/><br/>

As your application interacts with the UPIL engine via the `consume` method, the `UPILCore` instance will update `nodes[]` appropriately based on the instructions in the UPIL script.

User-input can either be handled with the appropriate hook as variables are updated in `UPILCore`, or the application can query `UPILCore` for all variables' current state at any time.

Finally, state can be pre-loaded into a `UPILCore` instance to influence the UPIL script's behavior, or to pre-populate values for text substitution or form-mode.